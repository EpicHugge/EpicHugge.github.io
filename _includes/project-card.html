{% assign project = include.project %}
{% if project %}
<article class="project-card" data-reveal>
  <a class="project-card-hit" href="{{ project.url | relative_url }}" aria-label="View {{ project.title }}"></a>
  <div class="project-card-media">
    {% if project.media_type == "video" %}
      <video preload="none" autoplay loop muted playsinline class="project-card-video" data-lazy-video{% if project.media_poster %} poster="{{ project.media_poster | relative_url }}"{% endif %}>
        <source data-src="{{ project.media_src | relative_url }}" type="video/webm">
      </video>
    {% else %}
      <img src="{{ project.media_src | relative_url }}" alt="{{ project.title }} hero" loading="lazy" decoding="async">
    {% endif %}
    {% if project.engine_icon %}
      <img class="engine-badge" src="{{ project.engine_icon | relative_url }}" alt="{{ project.title }} engine">
    {% endif %}
    <span class="card-hover-label">Full breakdown</span>
  </div>
  <div class="project-card-meta-row">
    <span class="tag">Role: {{ project.role_tag }}</span>
    <span class="tag">Team: {{ project.team_tag }}</span>
  </div>
  <div class="project-card-body">
    <h3>{{ project.title }}</h3>
    <p class="project-card-summary">{{ project.summary }}</p>
    <div class="project-keywords">
      {% for tag in project.tags %}
        <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>
  </div>
</article>
{% endif %}

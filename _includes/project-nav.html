{% assign items = site.data.projects %}
{% assign current_index = nil %}
{% for item in items %}
  {% if item.slug == include.slug %}
    {% assign current_index = forloop.index0 %}
  {% endif %}
{% endfor %}
{% if current_index != nil %}
  <nav class="project-nav" aria-label="Project navigation">
    {% if current_index > 0 %}
      {% assign prev_index = current_index | minus: 1 %}
      {% assign prev_project = items[prev_index] %}
      {% if prev_project %}
        <a class="project-nav-link" data-project-nav="prev" href="{{ prev_project.url | relative_url }}">
          <span class="project-nav-label">Previous</span>
          <span class="project-nav-title">{{ prev_project.title }}</span>
          {% if prev_project.tags and prev_project.tags.size > 0 %}
            <div class="project-nav-tags">
              {% for tag in prev_project.tags limit:3 %}
                <span class="project-nav-tag">{{ tag }}</span>
              {% endfor %}
            </div>
          {% endif %}
        </a>
      {% endif %}
    {% endif %}
    {% assign next_index = current_index | plus: 1 %}
    {% assign next_project = items[next_index] %}
    {% if next_project %}
      <a class="project-nav-link" data-project-nav="next" href="{{ next_project.url | relative_url }}">
        <span class="project-nav-label">Next</span>
        <span class="project-nav-title">{{ next_project.title }}</span>
        {% if next_project.tags and next_project.tags.size > 0 %}
          <div class="project-nav-tags">
            {% for tag in next_project.tags limit:3 %}
              <span class="project-nav-tag">{{ tag }}</span>
            {% endfor %}
          </div>
        {% endif %}
      </a>
    {% endif %}
  </nav>
{% endif %}
